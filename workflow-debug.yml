name: 'Debug Workflow'
description: 'Simple workflow to debug dynamic value resolution'
stop_all_nodes: true
wait_timeout: 60

nodes:
  count: 2
  prefix: 'calimero-node'
  chain_id: 'testnet-1'
  image: 'ghcr.io/calimero-network/merod:6a47604'

steps:
  - name: 'Install Application on Node 1'
    type: 'install_application'
    node: 'calimero-node-1'
    path: './kv_store.wasm'
    dev: true
    
  - name: 'Create Context on Node 1'
    type: 'create_context'
    node: 'calimero-node-1'
    application_id: '{{install.calimero-node-1}}'
    
  - name: 'Create Identity on Node 1'
    type: 'create_identity'
    node: 'calimero-node-1'
    
  - name: 'Create Identity on Node 2'
    type: 'create_identity'
    node: 'calimero-node-2'
    
  - name: 'Wait for Processing'
    type: 'wait'
    seconds: 5
